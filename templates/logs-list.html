{% extends "layout.html" %}

{% block left_panel %}

	<!-- collapse view -->
	
	<div class="panel-group" id="accordion">
	   <div class="panel panel-info">
		  <div class="panel-heading">
			 <h4 class="panel-title">
				<a data-toggle="collapse" data-parent="#accordion" 
				   href="#collapseOne">日志列表
				</a><span class="badge pull-right">{{num_logs}}</span>
			 </h4>
		  </div>
		  <div id="collapseOne" class="panel-collapse collapse in">
			 <div class="panel-body">
				<ul>
				{% for item in list %}
					{% if 0 == list.index(item) %}
						<li><a href="{{ url_for('log_show', filename=item) }}" >{{item}}&nbsp;&nbsp;<span class="glyphicon glyphicon-star"" aria-hidden="true"></span></a><a href="{{ url_for('log_delete', filename=item) }}" onclick="return myConfirm(this.href)"><span class="glyphicon glyphicon-trash pull-right"" aria-hidden="true"></span></a></li>
					{% else %}
				
					 <li><a href="{{ url_for('log_show', filename=item) }}" >{{item}}</a><a href="{{ url_for('log_delete', filename=item) }}" onclick="return myConfirm(this.href)"><span class="glyphicon glyphicon-trash pull-right"" aria-hidden="true"></span></a></li>
					{% endif %}
				{% endfor %}
				</ul>
			 </div>
		  </div>
	   </div>
	</div>
	
	<!-- collapse view -->
	<script type="text/javascript">
	   $(function () { $('#collapseOne').collapse('show')});
	</script>
	
	
<!-- bootbox 插件（Modal） -->
  <script>
    bootbox.setDefaults("locale","zh_CN");  
	myConfirm = function(url) {
		bootbox.confirm("确定删除该日志?（此操作不可撤回！）", function(okay) {
			if(okay)
				 location.href = url;
		});
		return false;
	}
   </script>
   <!-- bootbox 插件（Modal） -->
	
{% endblock %} <!--block left_panel-->
